{"mappings":"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","sources":["src/core/core-thread.ts","src/core/graphic.ts","src/core/render-queue.ts","src/core/math/index.ts","src/core/math/cartesian3.ts","src/constants.ts","src/core/utils/index.ts","src/core/utils/math.ts","src/core/math/ellipsoid.ts","src/core/math/matrix4.ts","src/core/math/quration.ts","src/core/math/transforms.ts","src/core/math/wgs84.ts"],"sourcesContent":["import { expose } from 'comlink';\r\nimport { Graphic } from './graphic';\r\nimport { Box3, BoxHelper, Object3D, ObjectLoader, Vector3 } from 'three';\r\nimport { RenderQueue } from './render-queue';\r\nimport { CT_WGS84, IWGS84 } from './math';\r\n\r\nexport interface CameraInitParam {\r\n\taspect: number;\r\n\tfar: number;\r\n\tnear: number;\r\n\tfov: number;\r\n}\r\n\r\nexport default class CoreThread {\r\n\tprivate readonly helpers = new Map<string, Object3D>();\r\n\tprivate readonly graphic = Graphic.getInstance();\r\n\tprivate readonly objectLoader = new ObjectLoader();\r\n\tprivate _renderQueue = new RenderQueue();\r\n\tconstructor() {\r\n\t\tthis._renderQueue.renderNextFrame$.subscribe(() => {\r\n\t\t\tself.postMessage({ type: 'onRender' });\r\n\t\t});\r\n\t\tself.onmessage = (e: MessageEvent) => {\r\n\t\t\tconst message = e.data;\r\n\t\t\tif (message) {\r\n\t\t\t\tswitch (message.type) {\r\n\t\t\t\t\tcase RequestType.RENDER:\r\n\t\t\t\t\t\tthis._renderQueue.requestRender({\r\n\t\t\t\t\t\t\t...message.param,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tinit(canvas: HTMLCanvasElement) {\r\n\t\tthis.graphic.init(canvas);\r\n\t}\r\n\r\n\tsetPixelRatio(value: number) {\r\n\t\tthis.graphic.setPixelRatio(value);\r\n\t}\r\n\r\n\tgetBox3(id: number): Vector3 | undefined {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\treturn object.userData.box3;\r\n\t\t}\r\n\t}\r\n\r\n\tgetUserDataAt<T>(id: number, key: string) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\treturn <T>object.userData[key];\r\n\t\t}\r\n\t}\r\n\r\n\tsetUserDataAt(id: number, key: string, data: any) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tobject.userData[key] = data;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getObject(value: number) {\r\n\t\treturn this.graphic.scene.getObjectById(value);\r\n\t}\r\n\r\n\tisExist(id: number) {\r\n\t\treturn !!this.getObject(id);\r\n\t}\r\n\r\n\tsetBoxHelperTo(id: number) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tif (this.helpers.has('BoxHelper')) {\r\n\t\t\t\tconst helper = this.helpers.get('BoxHelper')! as BoxHelper;\r\n\t\t\t\thelper.update(object);\r\n\t\t\t} else {\r\n\t\t\t\tconst helper = new BoxHelper(object);\r\n\t\t\t\tthis.helpers.set('BoxHelper', helper);\r\n\t\t\t\tthis.graphic.scene.add(helper);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thide(id: number) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tobject.visible = false;\r\n\t\t}\r\n\t\treturn !!object;\r\n\t}\r\n\r\n\tshow(id: number) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tobject.visible = true;\r\n\t\t}\r\n\t\treturn !!object;\r\n\t}\r\n\r\n\tadd(json: any, wgs84: IWGS84 | undefined) {\r\n\t\tconst object = this.objectLoader.parse(json);\r\n\r\n\t\tconst box3 = new Box3().setFromObject(object).max;\r\n\t\tobject.userData.box3 = box3;\r\n\r\n\t\tif (wgs84) {\r\n\t\t\tif (wgs84.height === 0) {\r\n\t\t\t\twgs84.height = box3.y;\r\n\t\t\t}\r\n\t\t\tobject.applyMatrix4(\r\n\t\t\t\tCT_WGS84.fromThreeWGS84(\r\n\t\t\t\t\twgs84.latitude,\r\n\t\t\t\t\twgs84.longitude,\r\n\t\t\t\t\twgs84.height\r\n\t\t\t\t).getMatrix4()\r\n\t\t\t);\r\n\t\t\tobject.userData.wgs84 = wgs84;\r\n\t\t}\r\n\r\n\t\tthis.graphic.scene.add(object);\r\n\r\n\t\treturn object.id;\r\n\t}\r\n\r\n\tupdate(id: number, json: any) {\r\n\t\tlet object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tconst updateObject = this.objectLoader.parse(json);\r\n\t\t\tobject.copy(updateObject);\r\n\t\t}\r\n\t\treturn !!object;\r\n\t}\r\n\r\n\tgetWGS84(id: number) {\r\n\t\tconst wgs84: CT_WGS84 | undefined = this.getObject(id)?.userData.wgs84;\r\n\t\tif (\r\n\t\t\twgs84 &&\r\n\t\t\twgs84.latitude !== undefined &&\r\n\t\t\twgs84.longitude !== undefined &&\r\n\t\t\twgs84.height !== undefined\r\n\t\t) {\r\n\t\t\treturn {\r\n\t\t\t\tlatitude: wgs84.longitude,\r\n\t\t\t\tlongitude: wgs84.latitude,\r\n\t\t\t\theight: wgs84.height,\r\n\t\t\t} as IWGS84;\r\n\t\t}\r\n\t}\r\n\r\n\tsetSize(width: number, height: number) {\r\n\t\tthis.graphic.setSize(width, height);\r\n\t}\r\n\r\n\tinitCamera(param: CameraInitParam) {\r\n\t\tconst camera = this.graphic.camera;\r\n\t\tcamera.aspect = param.aspect;\r\n\t\tcamera.far = param.far;\r\n\t\tcamera.near = param.near;\r\n\t\tcamera.fov = param.fov;\r\n\t\tconsole.table(param);\r\n\t\tcamera.updateProjectionMatrix();\r\n\t}\r\n\r\n\tupdatePosition(id: number, position: IWGS84) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tposition.height = position.height\r\n\t\t\t\t? new Box3().setFromObject(object).max.y\r\n\t\t\t\t: 0;\r\n\t\t\tconst wgs84 = CT_WGS84.fromCesiumWGS84(\r\n\t\t\t\tposition.latitude,\r\n\t\t\t\tposition.longitude,\r\n\t\t\t\tposition.height\r\n\t\t\t);\r\n\t\t\tobject.applyMatrix4(wgs84.getMatrix4());\r\n\t\t\tobject.userData.wgs84 = wgs84;\r\n\t\t}\r\n\t\treturn !!object;\r\n\t}\r\n\r\n\tdelete(id: number) {\r\n\t\tconst object = this.getObject(id);\r\n\t\tif (object) {\r\n\t\t\tthis.graphic.scene.remove(object);\r\n\t\t}\r\n\t\treturn !!object;\r\n\t}\r\n}\r\n\r\nexport const RequestType = Object.freeze({\r\n\tRENDER: 0,\r\n});\r\n\r\nexpose(new CoreThread());\r\n","import * as THREE from 'three';\r\nimport { CT_Cartesian3, IWGS84 } from '.';\r\n\r\nexport interface CurrentExtent {\r\n\txmin: number;\r\n\tymin: number;\r\n\txmax: number;\r\n\tymax: number;\r\n\theight: number;\r\n}\r\n\r\nexport interface RenderParam {\r\n\tcvm: Float64Array;\r\n\tcivm: Float64Array;\r\n}\r\n\r\nexport class Graphic {\r\n\tprivate static instance: Graphic;\r\n\treadonly camera: THREE.PerspectiveCamera;\r\n\tprivate constructor(readonly scene = new THREE.Scene()) {\r\n\t\tthis.camera = new THREE.PerspectiveCamera();\r\n\t}\r\n\r\n\tstatic getInstance() {\r\n\t\treturn this.instance || (this.instance = new this());\r\n\t}\r\n\r\n\tsetPixelRatio(value: number): boolean {\r\n\t\tlet success = false;\r\n\t\tif (this.renderer) {\r\n\t\t\tthis.renderer.setPixelRatio(value);\r\n\t\t\tsuccess = true;\r\n\t\t}\r\n\t\treturn success;\r\n\t}\r\n\r\n\trenderer?: THREE.WebGLRenderer;\r\n\tinit(canvas: HTMLCanvasElement) {\r\n\t\tconst params: THREE.WebGLRendererParameters = {\r\n\t\t\tcanvas: canvas,\r\n\t\t\tpowerPreference: 'high-performance',\r\n\t\t\talpha: true,\r\n\t\t\tantialias: true,\r\n\t\t\tlogarithmicDepthBuffer: true,\r\n\t\t\tdepth: false,\r\n\t\t};\r\n\r\n\t\tconst context = canvas.getContext('webgl2');\r\n\t\tif (context) {\r\n\t\t\tparams.context = context;\r\n\t\t}\r\n\r\n\t\tthis.renderer = new THREE.WebGLRenderer(params);\r\n\t\tconsole.log(\r\n\t\t\t`[Graphic] isWebGL2Enabled : ${this.renderer.capabilities.isWebGL2}`\r\n\t\t);\r\n\t}\r\n\r\n\tsetSize(width: number, height: number) {\r\n\t\tthis.camera.aspect = width / height;\r\n\t\tthis.camera.updateProjectionMatrix();\r\n\t\tthis.renderer?.setSize(width, height, false);\r\n\t}\r\n\r\n\tprivate _normalMatrix = new THREE.Matrix3();\r\n\t/**\r\n\t * 장면을 렌더링합니다.\r\n\t * @param param\r\n\t */\r\n\trender(param: RenderParam) {\r\n\t\tif (this.renderer) {\r\n\t\t\tthis.camera.matrixAutoUpdate = false;\r\n\r\n\t\t\t// prettier-ignore\r\n\t\t\tthis.camera.matrixWorld.set(\r\n\t\t\t\tparam.civm[ 0], param.civm[ 4], param.civm[ 8], param.civm[12],\r\n\t\t\t\tparam.civm[ 1], param.civm[ 5], param.civm[ 9], param.civm[13],\r\n\t\t\t\tparam.civm[ 2], param.civm[ 6], param.civm[10], param.civm[14],\r\n\t\t\t\tparam.civm[ 3], param.civm[ 7], param.civm[11], param.civm[15]\r\n\t\t\t);\r\n\t\t\t// prettier-ignore\r\n\t\t\tthis.camera.matrixWorldInverse.set(\r\n\t\t\t\tparam.cvm[ 0], param.cvm[ 4], param.cvm[ 8], param.cvm[12],\r\n\t\t\t\tparam.cvm[ 1], param.cvm[ 5], param.cvm[ 9], param.cvm[13],\r\n\t\t\t\tparam.cvm[ 2], param.cvm[ 6], param.cvm[10], param.cvm[14],\r\n\t\t\t\tparam.cvm[ 3], param.cvm[ 7], param.cvm[11], param.cvm[15]\r\n\t\t\t);\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\r\n\t\t\tthis._normalMatrix.getNormalMatrix(this.camera.matrixWorldInverse);\r\n\t\t\tthis.scene.traverse(this._setObjectVisible.bind(this));\r\n\r\n\t\t\tthis.renderer.render(this.scene, this.camera);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _tempVector3 = new THREE.Vector3();\r\n\tprivate _cameraToPoint = new THREE.Vector3();\r\n\t/**\r\n\t * 오브젝트의 지구 뒷면 렌더링을 제어합니다.\r\n\t *\r\n\t * @param object\r\n\t * @returns\r\n\t */\r\n\tprivate _setObjectVisible(object: THREE.Object3D) {\r\n\t\t// 위치를 가지는 오브젝트만 선정\r\n\t\tif (!object.userData.wgs84) return;\r\n\r\n\t\tthis._tempVector3\r\n\t\t\t.copy(object.position)\r\n\t\t\t.applyMatrix3(this._normalMatrix);\r\n\r\n\t\tthis._cameraToPoint\r\n\t\t\t.copy(object.position)\r\n\t\t\t.applyMatrix4(this.camera.matrixWorldInverse)\r\n\t\t\t.normalize();\r\n\r\n\t\t/**\r\n\t\t * 카메라에서 현재 위치의 방향(벡터) 값으로 카메라에서 지구본 위 위치값 까지의\r\n\t\t * 방향 값을 구한 후, 이 값으로 스칼라 곱을 구한다.\r\n\t\t *\r\n\t\t * == -1 : 카메라를 정면으로 바라봄\r\n\t\t *\r\n\t\t * ==  0 : 카메라에서 구면에 정확히 접선함.\r\n\t\t *\r\n\t\t * >=  0 : 카메라 뒷면에 있음\r\n\t\t */\r\n\t\tconst dot = this._tempVector3.dot(this._cameraToPoint);\r\n\t\tconst maxDot = -0.2;\r\n\t\tobject.visible = dot < maxDot;\r\n\t}\r\n}\r\n","import { Subject } from 'rxjs';\r\nimport { Graphic, RenderParam } from './graphic';\r\n\r\n/**\r\n * Cesium 과 three.js 의 스레드 간 렌더 비동기 이슈를 해결합니다.\r\n */\r\nexport class RenderQueue {\r\n\tprivate readonly graphic = Graphic.getInstance();\r\n\tprivate param: RenderParam | undefined;\r\n\tprivate readonly _renderSubject = new Subject<void>();\r\n\treadonly renderNextFrame$ = this._renderSubject.pipe();\r\n\r\n\t/**\r\n\t * 다음 장면을 그립니다.\r\n\t */\r\n\tprivate _render() {\r\n\t\tif (this.param) {\r\n\t\t\tthis.graphic.render(this.param);\r\n\t\t\tthis.param = undefined;\r\n\t\t\tthis._renderSubject.next();\r\n\t\t}\r\n\t\tthis._isRequestRender = false;\r\n\t}\r\n\r\n\tprivate _isRequestRender: boolean = false;\r\n\t/**\r\n\t * 다음 장면을 요청합니다.\r\n\t * @param param 렌더링 파라미터\r\n\t */\r\n\trequestRender(param: RenderParam) {\r\n\t\tif (!this._isRequestRender) {\r\n\t\t\tthis._isRequestRender = true;\r\n\t\t\tthis.param = param;\r\n\t\t\tthis._render();\r\n\t\t}\r\n\t}\r\n}\r\n","export * from \"./cartesian3\";\r\nexport * from \"./ellipsoid\";\r\nexport * from \"./matrix4\";\r\nexport * from \"./quration\";\r\nexport * from \"./transforms\";\r\nexport * from \"./wgs84\";\r\n","import { Vector3 } from \"three\";\r\nimport {\r\n  EARTH_RADIUS_X_SQURAE,\r\n  EARTH_RADIUS_Y_SQURAE,\r\n  EARTH_RADIUS_Z_SQURAE,\r\n} from \"../../constants\";\r\nimport { MathUtils } from \"../utils\";\r\nexport class CT_Cartesian3 extends Vector3 {\r\n  static get WGS84_RADII_SQUARED() {\r\n    return new CT_Cartesian3(\r\n      EARTH_RADIUS_X_SQURAE,\r\n      EARTH_RADIUS_Y_SQURAE,\r\n      EARTH_RADIUS_Z_SQURAE\r\n    );\r\n  }\r\n\r\n  static get UINT_X() {\r\n    return new CT_Cartesian3(1.0, 0.0, 0.0);\r\n  }\r\n\r\n  static get UINT_Y() {\r\n    return new CT_Cartesian3(0.0, 1.0, 0.0);\r\n  }\r\n\r\n  static get UINT_Z() {\r\n    return new CT_Cartesian3(0.0, 0.0, 1.0);\r\n  }\r\n\r\n  static get ZERO() {\r\n    return new CT_Cartesian3(0, 0, 0);\r\n  }\r\n\r\n  static fromRadians(longitude: number, latitude: number, height: number) {\r\n    const cosLatitude = Math.cos(latitude);\r\n\r\n    const cartesian = new CT_Cartesian3(\r\n      cosLatitude * Math.cos(longitude),\r\n      cosLatitude * Math.sin(longitude),\r\n      Math.sin(latitude)\r\n    ).normalizeByMagnitude();\r\n\r\n    const WGS84_RADII_SQUARED =\r\n      CT_Cartesian3.WGS84_RADII_SQUARED.multiply(cartesian);\r\n\r\n    const gamma = Math.sqrt(WGS84_RADII_SQUARED.dot(cartesian));\r\n\r\n    WGS84_RADII_SQUARED.divideScalar(gamma);\r\n\r\n    return cartesian.multiplyScalar(height).add(WGS84_RADII_SQUARED);\r\n  }\r\n\r\n  static fromDegree(longitude: number, latitude: number, height: number) {\r\n    return this.fromRadians(\r\n      MathUtils.toRadians(longitude),\r\n      MathUtils.toRadians(latitude),\r\n      height\r\n    );\r\n  }\r\n\r\n  static equalsEpsilon(\r\n    left: CT_Cartesian3,\r\n    right: CT_Cartesian3,\r\n    relativeEpsilon: number = MathUtils.EPSILON_14,\r\n    absoluteEpsilon: number = MathUtils.EPSILON_14\r\n  ) {\r\n    if (left.equals(right)) return true;\r\n    return (\r\n      MathUtils.equalsEpsilon(\r\n        left.x,\r\n        right.x,\r\n        relativeEpsilon,\r\n        absoluteEpsilon\r\n      ) &&\r\n      MathUtils.equalsEpsilon(\r\n        left.y,\r\n        right.y,\r\n        relativeEpsilon,\r\n        absoluteEpsilon\r\n      ) &&\r\n      MathUtils.equalsEpsilon(left.z, right.z, relativeEpsilon, absoluteEpsilon)\r\n    );\r\n  }\r\n\r\n  normalizeByMagnitude() {\r\n    return this.divideScalar(MathUtils.magnitude(this));\r\n  }\r\n\r\n  isZero() {\r\n    return CT_Cartesian3.equalsEpsilon(this, CT_Cartesian3.ZERO);\r\n  }\r\n\r\n  static unpack(\r\n    array: Array<number>,\r\n    startIndex: number = 0,\r\n    result: CT_Cartesian3 = new CT_Cartesian3()\r\n  ) {\r\n    return result.set(\r\n      array[startIndex++],\r\n      array[startIndex++],\r\n      array[startIndex]\r\n    );\r\n  }\r\n}\r\n","export const REVISION = \"0dev\";\r\nexport const EARTH_RADIUS_X = 6378137.0;\r\nexport const EARTH_RADIUS_Y = 6378137.0;\r\nexport const EARTH_RADIUS_Z = 6356752.3142451793;\r\nexport const EARTH_RADIUS_X_SQURAE = 40680631590769.0;\r\nexport const EARTH_RADIUS_Y_SQURAE = 40680631590769.0;\r\nexport const EARTH_RADIUS_Z_SQURAE = 40408299984661.445;\r\n","export { MathUtils } from \"./math\";\r\n","export class MathUtils {\r\n  static readonly RADIANS_PER_DEGREE = Math.PI / 180.0;\r\n  static readonly EPSILON_01: number = 0.1;\r\n  static readonly EPSILON_02: number = 0.01;\r\n  static readonly EPSILON_03: number = 0.001;\r\n  static readonly EPSILON_04: number = 0.0001;\r\n  static readonly EPSILON_05: number = 0.00001;\r\n  static readonly EPSILON_06: number = 0.000001;\r\n  static readonly EPSILON_07: number = 0.0000001;\r\n  static readonly EPSILON_08: number = 0.00000001;\r\n  static readonly EPSILON_09: number = 0.000000001;\r\n  static readonly EPSILON_10: number = 0.0000000001;\r\n  static readonly EPSILON_11: number = 0.00000000001;\r\n  static readonly EPSILON_12: number = 0.000000000001;\r\n  static readonly EPSILON_13: number = 0.0000000000001;\r\n  static readonly EPSILON_14: number = 0.00000000000001;\r\n  static readonly EPSILON_15: number = 0.000000000000001;\r\n  static readonly EPSILON_16: number = 0.0000000000000001;\r\n  static readonly EPSILON_17: number = 0.00000000000000001;\r\n  static readonly EPSILON_18: number = 0.000000000000000001;\r\n  static readonly EPSILON_19: number = 0.0000000000000000001;\r\n  static readonly EPSILON_20: number = 0.00000000000000000001;\r\n  static readonly EPSILON_21: number = 0.000000000000000000001;\r\n  static toRadians(degrees: number) {\r\n    return degrees * this.RADIANS_PER_DEGREE;\r\n  }\r\n\r\n  static randomOffset() {\r\n    return Math.floor(Math.random() * 10000) * 0.000001;\r\n  }\r\n\r\n  /**\r\n   * 절대 공차 검정 또는 상대 공차 검정을 사용하여 두 값이 같은지 여부를 확인합니다.\r\n   *\r\n   * @example\r\n   * MathUtils.equalsEpsilon(0.1, 0.01, MathUtils.EPSILON_01) // true\r\n   * MathUtils.equalsEpsilon(0.1, 0.01, MathUtils.EPSILON_02) // false\r\n   *\r\n   * @param left - The first value to compare.\r\n   * @param right - The other value to compare.\r\n   * @param relativeEpsilon\r\n   * @param absoluteEpsilon\r\n   * @returns\r\n   */\r\n  static equalsEpsilon(\r\n    left: number,\r\n    right: number,\r\n    relativeEpsilon: number = this.EPSILON_14,\r\n    absoluteEpsilon: number = this.EPSILON_14\r\n  ) {\r\n    const absDiff = Math.abs(left - right);\r\n    if (absDiff <= absoluteEpsilon) return true;\r\n    return (\r\n      absDiff <= relativeEpsilon * Math.max(Math.abs(left), Math.abs(right))\r\n    );\r\n  }\r\n\r\n  static magnitude(vec: { x: number; y: number; z: number }) {\r\n    return Math.sqrt(vec.x * vec.x + vec.y * vec.y + vec.z * vec.z);\r\n  }\r\n}\r\n","import { Vector3 } from \"three\";\r\nimport {\r\n  EARTH_RADIUS_X,\r\n  EARTH_RADIUS_Y,\r\n  EARTH_RADIUS_Z,\r\n} from \"../../constants\";\r\nimport { CT_Cartesian3 } from \"./cartesian3\";\r\n\r\nexport class CT_Ellipsoid extends Vector3 {\r\n  private _oneOverRadiiSquared: CT_Cartesian3;\r\n\r\n  constructor(x: number, y: number, z: number) {\r\n    super(x, y, z);\r\n    this._oneOverRadiiSquared = new CT_Cartesian3(\r\n      this.x == 0.0 ? 0.0 : 1.0 / (this.x * this.x),\r\n      this.y == 0.0 ? 0.0 : 1.0 / (this.y * this.y),\r\n      this.z == 0.0 ? 0.0 : 1.0 / (this.z * this.z)\r\n    );\r\n  }\r\n\r\n  static get WGS84() {\r\n    return new CT_Ellipsoid(EARTH_RADIUS_X, EARTH_RADIUS_Y, EARTH_RADIUS_Z);\r\n  }\r\n\r\n  static readonly DEFAULT_WGS84_RADII_SQUARED = Object.freeze(\r\n    CT_Ellipsoid.WGS84._oneOverRadiiSquared\r\n  );\r\n  static getDefaultWGS84RadiiSquaredGeodticSurfaceNormal(\r\n    cartesian: CT_Cartesian3,\r\n    result: CT_Cartesian3 = new CT_Cartesian3()\r\n  ) {\r\n    if (cartesian.isZero()) return;\r\n    return result\r\n      .copy(cartesian)\r\n      .multiply(this.DEFAULT_WGS84_RADII_SQUARED)\r\n      .normalizeByMagnitude();\r\n  }\r\n\r\n  geodeticSurfaceNormal(\r\n    cartesian: CT_Cartesian3,\r\n    result: CT_Cartesian3 = new CT_Cartesian3()\r\n  ) {\r\n    if (cartesian.isZero()) return;\r\n    return result\r\n      .copy(cartesian)\r\n      .multiply(this._oneOverRadiiSquared)\r\n      .normalizeByMagnitude();\r\n  }\r\n}\r\n","import { Matrix4 } from \"three\";\r\nimport { CT_Cartesian3, CT_Quaternion, CT_Transforms } from \".\";\r\nimport { MathUtils } from \"../utils\";\r\n\r\nexport class CT_Matrix4 extends Matrix4 {\r\n  static fromRotationX(degrees: number, result: Matrix4 = new Matrix4()) {\r\n    return result.makeRotationX(MathUtils.toRadians(degrees));\r\n  }\r\n\r\n  static fromWGS84(\r\n    longitude: number,\r\n    latitude: number,\r\n    height: number,\r\n    result: Matrix4 = new Matrix4()\r\n  ) {\r\n    const matrix = CT_Transforms.matrix4ToFixedFrame(\r\n      CT_Cartesian3.fromDegree(longitude, latitude, height),\r\n      new Matrix4()\r\n    ).elements;\r\n\r\n    // prettier-ignore\r\n    return result.set(\r\n        matrix[ 0], matrix[ 4], matrix[ 8], matrix[12],\r\n        matrix[ 1], matrix[ 5], matrix[ 9], matrix[13],\r\n        matrix[ 2], matrix[ 6], matrix[10], matrix[14],\r\n        matrix[ 3], matrix[ 7], matrix[11], matrix[15]\r\n    );\r\n  }\r\n\r\n  static fromTranslationQuaternionRotationScale(\r\n    translation: CT_Cartesian3,\r\n    rotation: CT_Quaternion,\r\n    scale: CT_Cartesian3,\r\n    result: CT_Matrix4 = new CT_Matrix4()\r\n  ) {\r\n    const scaleX = scale.x;\r\n    const scaleY = scale.y;\r\n    const scaleZ = scale.z;\r\n\r\n    const x2 = rotation.x * rotation.x;\r\n    const xy = rotation.x * rotation.y;\r\n    const xz = rotation.x * rotation.z;\r\n    const xw = rotation.x * rotation.w;\r\n    const y2 = rotation.y * rotation.y;\r\n    const yz = rotation.y * rotation.z;\r\n    const yw = rotation.y * rotation.w;\r\n    const z2 = rotation.z * rotation.z;\r\n    const zw = rotation.z * rotation.w;\r\n    const w2 = rotation.w * rotation.w;\r\n\r\n    const m00 = x2 - y2 - z2 + w2;\r\n    const m01 = 2.0 * (xy - zw);\r\n    const m02 = 2.0 * (xz + yw);\r\n\r\n    const m10 = 2.0 * (xy + zw);\r\n    const m11 = -x2 + y2 - z2 + w2;\r\n    const m12 = 2.0 * (yz - xw);\r\n\r\n    const m20 = 2.0 * (xz - yw);\r\n    const m21 = 2.0 * (yz + xw);\r\n    const m22 = -x2 - y2 + z2 + w2;\r\n\r\n    // prettier-ignore\r\n    return result.set(\r\n        m00 * scaleX, \tm10 * scaleX, \tm20 * scaleX, \t0.0,\r\n        m01 * scaleY, \tm11 * scaleY, \tm21 * scaleY, \t0.0,\r\n        m02 * scaleZ, \tm12 * scaleZ, \tm22 * scaleZ, \t0.0,\r\n        translation.x, \ttranslation.y, \ttranslation.z,\t1.0,\r\n    );\r\n  }\r\n}\r\n","import { Vector4 } from \"three\";\r\nimport { CT_Cartesian3 } from \".\";\r\n\r\nexport class CT_Quaternion extends Vector4 {\r\n  private static _fromAxisAngleScratch = new CT_Cartesian3();\r\n\r\n  static fromAxisAngle(\r\n    aixs: CT_Cartesian3,\r\n    angle: number,\r\n    result: CT_Quaternion = new CT_Quaternion()\r\n  ) {\r\n    const halfAngle = angle / 2.0;\r\n\r\n    const halfAnlgOfSin = Math.sin(halfAngle);\r\n\r\n    this._fromAxisAngleScratch.copy(aixs).normalizeByMagnitude();\r\n\r\n    return result.set(\r\n      this._fromAxisAngleScratch.x * halfAnlgOfSin,\r\n      this._fromAxisAngleScratch.y * halfAnlgOfSin,\r\n      this._fromAxisAngleScratch.z * halfAnlgOfSin,\r\n      Math.cos(halfAngle)\r\n    );\r\n  }\r\n\r\n  private static _scratchHPRQuaternion = new CT_Quaternion();\r\n  private static _scratchHeadingQuaternion = new CT_Quaternion();\r\n  private static _scratchPitchQuaternion = new CT_Quaternion();\r\n  private static _scratchRollQuaternion = new CT_Quaternion();\r\n\r\n  static fromHeadingPitchRoll(\r\n    heading: number,\r\n    pitch: number,\r\n    roll: number,\r\n    result: CT_Quaternion = new CT_Quaternion()\r\n  ) {\r\n    this._scratchRollQuaternion = this.fromAxisAngle(\r\n      CT_Cartesian3.UINT_X,\r\n      roll,\r\n      this._scratchHPRQuaternion\r\n    );\r\n\r\n    result = this.fromAxisAngle(\r\n      CT_Cartesian3.UINT_Y,\r\n      pitch,\r\n      this._scratchPitchQuaternion\r\n    );\r\n\r\n    this._scratchPitchQuaternion.multiply(this._scratchRollQuaternion);\r\n\r\n    this._scratchHeadingQuaternion = this.fromAxisAngle(\r\n      CT_Cartesian3.UINT_Z,\r\n      -heading,\r\n      this._scratchHPRQuaternion\r\n    );\r\n\r\n    return result.copy(\r\n      new CT_Quaternion().copy(this._scratchHeadingQuaternion).multiply(result)\r\n    );\r\n  }\r\n}\r\n","import { Matrix4 } from \"three\";\r\nimport { CT_Ellipsoid } from \"./ellipsoid\";\r\nimport { CT_Quaternion } from \"./quration\";\r\nimport { MathUtils } from \"../utils\";\r\nimport { CT_Cartesian3 } from \"./cartesian3\";\r\nimport { CT_Matrix4 } from \"./matrix4\";\r\n\r\nconst vectorProductLocalFrame = {\r\n  up: {\r\n    south: \"east\",\r\n    north: \"west\",\r\n    west: \"south\",\r\n    east: \"north\",\r\n  },\r\n  down: {\r\n    south: \"west\",\r\n    north: \"east\",\r\n    west: \"north\",\r\n    east: \"south\",\r\n  },\r\n  south: {\r\n    up: \"west\",\r\n    down: \"east\",\r\n    west: \"down\",\r\n    east: \"up\",\r\n  },\r\n  north: {\r\n    up: \"east\",\r\n    down: \"west\",\r\n    west: \"up\",\r\n    east: \"down\",\r\n  },\r\n  west: {\r\n    up: \"north\",\r\n    down: \"south\",\r\n    north: \"down\",\r\n    south: \"up\",\r\n  },\r\n  east: {\r\n    up: \"south\",\r\n    down: \"north\",\r\n    north: \"up\",\r\n    south: \"down\",\r\n  },\r\n} as const;\r\n\r\ntype AxisFirst = keyof typeof vectorProductLocalFrame;\r\ntype AxisSecond<K extends AxisFirst> = keyof typeof vectorProductLocalFrame[K];\r\n\r\ntype FixedFrameTransformFunction = {\r\n  (origin: CT_Cartesian3): Matrix4;\r\n};\r\n\r\n// prettier-ignore\r\nconst degeneratePositionLocalFrame = {\r\n\tnorth: [-1,  0,  0],\r\n\teast:  [ 0,  1,  0],\r\n\tsouth: [ 1,  0,  0],\r\n\twest:  [ 0, -1,  0],\r\n\tup:    [ 0,  0,  1],\r\n\tdown:  [ 0,  0, -1],\r\n};\r\nconst scratchCalculateCartesian = {\r\n  east: new CT_Cartesian3(),\r\n  north: new CT_Cartesian3(),\r\n  up: new CT_Cartesian3(),\r\n  west: new CT_Cartesian3(),\r\n  south: new CT_Cartesian3(),\r\n  down: new CT_Cartesian3(),\r\n};\r\n\r\nexport class CT_Transforms {\r\n  static localFrameToFixedFrameCache = new Map<\r\n    string,\r\n    FixedFrameTransformFunction\r\n  >();\r\n\r\n  static localFrameToFixedFrameGenerator<K extends AxisFirst>(\r\n    firstAixs: K,\r\n    secondAxis: AxisSecond<K>\r\n  ) {\r\n    const axisHash = firstAixs + secondAxis;\r\n\r\n    let f = CT_Transforms.localFrameToFixedFrameCache.get(axisHash);\r\n\r\n    if (f) return f;\r\n\r\n    const thirdAxis = vectorProductLocalFrame[firstAixs][secondAxis];\r\n\r\n    f = (origin: CT_Cartesian3, result: Matrix4 = new Matrix4()) => {\r\n      let scratchFirstCartesian: CT_Cartesian3;\r\n      let scratchSecondCartesian: CT_Cartesian3;\r\n      let scratchThirdCartesian: CT_Cartesian3;\r\n\r\n      if (origin.isZero()) {\r\n        scratchFirstCartesian = CT_Cartesian3.unpack(\r\n          degeneratePositionLocalFrame[firstAixs]\r\n        );\r\n        scratchSecondCartesian = CT_Cartesian3.unpack(\r\n          // @ts-ignore\r\n          degeneratePositionLocalFrame[secondAxis]\r\n        );\r\n        scratchThirdCartesian = CT_Cartesian3.unpack(\r\n          // @ts-ignore\r\n          degeneratePositionLocalFrame[thirdAxis]\r\n        );\r\n      } else if (\r\n        MathUtils.equalsEpsilon(origin.x, 0.0) &&\r\n        MathUtils.equalsEpsilon(origin.y, 0.0)\r\n      ) {\r\n        const sign = Math.sign(origin.z);\r\n        scratchFirstCartesian = CT_Cartesian3.unpack(\r\n          degeneratePositionLocalFrame[firstAixs]\r\n        );\r\n\r\n        if (firstAixs !== \"east\" && firstAixs !== \"west\") {\r\n          scratchFirstCartesian.multiplyScalar(sign);\r\n        }\r\n\r\n        scratchSecondCartesian = CT_Cartesian3.unpack(\r\n          // @ts-ignore\r\n          degeneratePositionLocalFrame[secondAxis]\r\n        );\r\n\r\n        if (secondAxis !== \"east\" && secondAxis !== \"west\") {\r\n          scratchSecondCartesian.multiplyScalar(sign);\r\n        }\r\n        scratchThirdCartesian = CT_Cartesian3.unpack(\r\n          // @ts-ignore\r\n          degeneratePositionLocalFrame[thirdAxis]\r\n        );\r\n\r\n        // @ts-ignore\r\n        if (thirdAxis !== \"east\" && thirdAxis !== \"west\") {\r\n          scratchThirdCartesian.multiplyScalar(sign);\r\n        }\r\n      } else {\r\n        CT_Ellipsoid.getDefaultWGS84RadiiSquaredGeodticSurfaceNormal(\r\n          origin,\r\n          scratchCalculateCartesian.up\r\n        );\r\n\r\n        scratchCalculateCartesian.east\r\n          .set(-origin.y, origin.x, 0.0)\r\n          .normalizeByMagnitude();\r\n\r\n        scratchCalculateCartesian.north\r\n          .copy(scratchCalculateCartesian.up)\r\n          .cross(scratchCalculateCartesian.east);\r\n\r\n        scratchCalculateCartesian.down\r\n          .copy(scratchCalculateCartesian.up)\r\n          .multiplyScalar(-1);\r\n\r\n        scratchCalculateCartesian.west\r\n          .copy(scratchCalculateCartesian.east)\r\n          .multiplyScalar(-1);\r\n\r\n        scratchCalculateCartesian.south\r\n          .copy(scratchCalculateCartesian.north)\r\n          .multiplyScalar(-1);\r\n\r\n        scratchFirstCartesian = scratchCalculateCartesian[firstAixs];\r\n        // @ts-ignore\r\n        scratchSecondCartesian = scratchCalculateCartesian[secondAxis];\r\n        // @ts-ignore\r\n        scratchThirdCartesian = scratchCalculateCartesian[thirdAxis];\r\n      }\r\n\r\n      // prettier-ignore\r\n      result.set(\r\n\t\t\t\tscratchFirstCartesian.x,    scratchSecondCartesian.x,   scratchThirdCartesian.x,    origin.x,\r\n\t\t\t\tscratchFirstCartesian.y,    scratchSecondCartesian.y,   scratchThirdCartesian.y,    origin.y,\r\n\t\t\t\tscratchFirstCartesian.z,    scratchSecondCartesian.z,   scratchThirdCartesian.z,    origin.z,\r\n\t\t\t\t0.0,                        0.0,                        0.0,                        0.0\r\n\t\t\t);\r\n      return result;\r\n    };\r\n\r\n    this.localFrameToFixedFrameCache.set(axisHash, f);\r\n\r\n    return f;\r\n  }\r\n\r\n  static eastNorthUpToFixedFrame =\r\n    CT_Transforms.localFrameToFixedFrameGenerator(\"east\", \"north\");\r\n\r\n  static matrix4ToFixedFrame(\r\n    origin: CT_Cartesian3,\r\n    matrix: Matrix4,\r\n    result: Matrix4 = new Matrix4()\r\n  ) {\r\n    return result\r\n      .copy(CT_Transforms.eastNorthUpToFixedFrame(origin))\r\n      .multiply(matrix);\r\n  }\r\n\r\n  static headingPitchRollToFixedFrame(\r\n    origin: CT_Cartesian3,\r\n    heading: number,\r\n    pitch: number,\r\n    roll: number,\r\n    result: Matrix4 = new Matrix4()\r\n  ) {\r\n    const hprQuration = CT_Quaternion.fromHeadingPitchRoll(\r\n      heading,\r\n      pitch,\r\n      roll\r\n    );\r\n\r\n    const hprMatrix = CT_Matrix4.fromTranslationQuaternionRotationScale(\r\n      CT_Cartesian3.ZERO,\r\n      hprQuration,\r\n      new CT_Cartesian3(1.0, 1.0, 1.0)\r\n    );\r\n\r\n    return this.matrix4ToFixedFrame(origin, hprMatrix, result);\r\n  }\r\n}\r\n","import { Matrix4, Vector3 } from \"three\";\r\nimport { CT_Cartesian3, CT_Transforms } from \".\";\r\nimport { CT_Matrix4 } from \"./matrix4\";\r\n\r\nexport interface IWGS84 {\r\n  latitude: number;\r\n  longitude: number;\r\n  height: number;\r\n}\r\n\r\nexport class CT_WGS84 extends Vector3 {\r\n  constructor(\r\n    latitude: number | undefined = undefined,\r\n    longitude: number | undefined = undefined,\r\n    height: number | undefined = undefined\r\n  ) {\r\n    super(latitude, longitude, height);\r\n  }\r\n\r\n  get latitude() {\r\n    return this.x;\r\n  }\r\n\r\n  set latitude(value: number) {\r\n    this.setX(value);\r\n  }\r\n\r\n  get longitude() {\r\n    return this.y;\r\n  }\r\n\r\n  set longitude(value: number) {\r\n    this.setY(value);\r\n  }\r\n\r\n  get height() {\r\n    return this.z;\r\n  }\r\n\r\n  set height(value: number) {\r\n    this.setZ(value);\r\n  }\r\n\r\n  getMatrix4(result: CT_Matrix4 = new CT_Matrix4()) {\r\n    const matrix = CT_Transforms.matrix4ToFixedFrame(\r\n      CT_Cartesian3.fromDegree(this.longitude, this.latitude, this.height),\r\n      new Matrix4()\r\n    ).elements;\r\n\r\n    // prettier-ignore\r\n    return result.set(\r\n        matrix[ 0], matrix[ 4], matrix[ 8], matrix[12],\r\n        matrix[ 1], matrix[ 5], matrix[ 9], matrix[13],\r\n        matrix[ 2], matrix[ 6], matrix[10], matrix[14],\r\n        matrix[ 3], matrix[ 7], matrix[11], matrix[15]\r\n    );\r\n  }\r\n\r\n  toJSON(): IWGS84 {\r\n    return {\r\n      latitude: this.latitude,\r\n      longitude: this.longitude,\r\n      height: this.height,\r\n    };\r\n  }\r\n\r\n  static fromCesiumWGS84(\r\n    latitude: number,\r\n    longitude: number,\r\n    height: number,\r\n    result: CT_WGS84 = new CT_WGS84()\r\n  ) {\r\n    return result.set(latitude, longitude, height);\r\n  }\r\n\r\n  static fromThreeWGS84(\r\n    latitude: number,\r\n    longitude: number,\r\n    height: number,\r\n    result: CT_WGS84 = new CT_WGS84()\r\n  ) {\r\n    return result.set(latitude, longitude, height);\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"core-thread.1f18482a.js.map","sourceRoot":"../"}