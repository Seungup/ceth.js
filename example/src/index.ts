import * as Cesium from 'cesium';
import { Cesium3, MetaSVG } from '../../src';
import './css/main.css';

const constructorOptions: Cesium.Viewer.ConstructorOptions = {
	useDefaultRenderLoop: false,
};

(function setViewerConstructorOptions(
	option: Cesium.Viewer.ConstructorOptions
) {
	option.infoBox = false;
	option.timeline = false;
	option.vrButton = false;
	option.geocoder = false;
	option.animation = false;
	option.sceneModePicker = false;
	option.baseLayerPicker = false;
	option.projectionPicker = false;
	option.fullscreenButton = false;
	option.navigationHelpButton = false;
})(constructorOptions);

const viewer = new Cesium.Viewer('cesiumContainer', constructorOptions);

const factory = new Cesium3.Factory(viewer);
const manager = factory.manager;
const util = factory.util;
const renderer = factory.renderer;

(function animation() {
	requestAnimationFrame(animation);
	renderer.render();
	viewer.render();
})();

util.onSelectLocation = (location) => {
	const text = `<?xml version="1.0" encoding="UTF-8" standalone="no"?>
	<!-- Created with Inkscape (http://www.inkscape.org/) -->
	
	<svg
   version="1.1"
   id="svg863"
   xml:space="preserve"
   width="1066.6667"
   height="1066.6667"
   viewBox="0 0 1066.6667 1066.6667"
   sodipodi:docname="disco-girl-pdv.svg"
   inkscape:version="1.1.2 (b8e25be833, 2022-02-05)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"><defs
     id="defs867"><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath877"><path
         d="M 0,800 H 800 V 0 H 0 Z"
         id="path875" /></clipPath></defs><sodipodi:namedview
     id="namedview865"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     showgrid="false"
     inkscape:zoom="0.77906244"
     inkscape:cx="533.33337"
     inkscape:cy="533.33337"
     inkscape:window-width="1920"
     inkscape:window-height="1018"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="g869" /><g
     id="g869"
     inkscape:groupmode="layer"
     inkscape:label="disco-girl-pdv"
     transform="matrix(1.3333333,0,0,-1.3333333,0,1066.6667)"><g
       id="g871"><g
         id="g873"
         clip-path="url(#clipPath877)"><path
           d="m 387.298,87.781 25.905,0.456 v 8.506 l -46.967,-9.327 z"
           style="fill:#06b4ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path879" /><path
           d="m 569.707,87.922 c 3.373,2.637 3.697,7.379 2.814,12.137 L 561.355,85.497 c 3.604,0.359 6.657,1.099 8.352,2.425"
           style="fill:#00e3ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path881" /><path
           d="m 566.688,114.457 c -2.459,1.949 -5.452,4.223 -8.356,6.08 l -0.383,-35.268 c 1.172,0.045 2.315,0.119 3.406,0.228 l 11.166,14.562 c -1.277,6.89 -5.087,13.809 -5.833,14.398"
           style="fill:#02f8ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path883" /><path
           d="m 513.328,484.537 c 0,4.067 -2.053,4.309 -7.322,0.859 -1.619,-1.062 -2.623,-1.626 -3.471,-1.699 l -6.416,-10.163 c 9.219,2.877 17.209,7.484 17.209,11.003"
           style="fill:#54fff0;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path885" /><path
           d="m 340.055,769.742 c -2.912,1.564 -6.792,2.846 -8.618,2.846 -4.245,0 -15.583,-3.665 -24.185,-8.082 l 33.212,4.706 c -0.149,0.171 -0.286,0.347 -0.409,0.53"
           style="fill:#3455a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path887" /><path
           d="m 524.908,297.604 c -3.625,19.574 -8.277,42.625 -10.332,51.245 -0.373,1.566 -0.722,3.005 -1.064,4.341 l -23.469,29.433 c -0.99,0.75 -2.027,1.532 -3.115,2.353 -10.033,7.556 -18.899,13.458 -29.231,19.223 l -16.277,-62.904 22.256,-14.652 v -37.787 c 0,-5.444 -0.004,-10.122 -0.035,-14.311 l 65.326,-2.269 c -1.26,8.676 -2.615,17.16 -4.059,25.328"
           style="fill:#45ffff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path889" /><path
           d="m 490.043,382.623 23.469,-29.433 c -3.367,13.163 -5.985,16.18 -23.469,29.433"
           style="fill:#4bffff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path891" /><path
           d="m 528.967,272.276 -65.326,2.269 c -0.071,-9.399 -0.28,-16.334 -0.911,-23.872 l 73.934,-48.796 c -1.75,23.474 -4.387,47.616 -7.697,70.399"
           style="fill:#28ffff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path893" /><path
           d="m 420.801,475.294 c 21.715,-10.845 47.65,-22.131 53.004,-22.131 0.906,0 0.49,1.65 -0.926,3.677 -1.418,2.028 -2.578,5.982 -2.578,8.793 v 5.117 l 10.344,0.074 c 4.75,0.029 10.306,1.097 15.474,2.71 l 6.416,10.163 c -0.998,-0.084 -1.783,0.514 -3.088,1.819 -1.47,1.464 -2.666,3.8 -2.666,5.196 0,3.289 8.412,11.103 14.823,13.755 6.96,2.879 6.296,4.993 -1.584,4.993 -5.237,0 -7.95,-1.208 -13.022,-5.793 -3.525,-3.181 -8.184,-8.39 -10.352,-11.572 -4.457,-6.552 -6.244,-7.014 -11.191,-2.906 l -3.482,2.893 3.986,12.418 c 2.195,6.82 3.357,12.64 2.578,12.928 -0.779,0.282 -4.256,-0.308 -7.726,-1.302 -3.471,-0.993 -16.795,-2.269 -29.623,-2.825 l -23.319,-1.014 -1.088,12.901 c -0.004,0.042 -0.008,0.089 -0.011,0.132 l -26.87,-6.83 z"
           style="fill:#53e3bd;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path895" /><path
           d="m 555.578,122.175 c -8.217,4.465 -17.896,10.271 -20.084,12.151 -5.498,4.725 -4.115,7.719 3.578,7.719 0.006,9.94 -0.244,20.464 -0.715,31.335 l -61.535,-40.784 -0.613,-9.775 c -0.625,-9.922 -1.531,-20.353 -2.008,-23.185 -0.994,-5.854 1.524,-7.196 13.559,-7.237 h 6.701 l 1.986,9.613 c 1.998,9.679 6.719,16.861 11.088,16.861 1.289,0 3.893,-1.665 5.787,-3.691 3.449,-3.7 3.92,-5.055 5.774,-16.58 0.924,-5.747 1.41,-6.203 6.578,-6.203 7.691,0 10.793,-1.443 9.941,-5.317 -0.064,-0.376 12.199,-2.195 22.334,-1.813 l 0.383,35.268 c -0.934,0.598 -1.859,1.152 -2.754,1.638"
           style="fill:#0ce2ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path897" /><path
           d="m 416.764,129.695 c 0.031,0.064 0.06,0.128 0.084,0.194 0.586,1.526 -0.028,30.561 -1.061,62.603 l -20.12,0.758 z"
           style="fill:#17e3ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path899" /><path
           d="m 537.605,187.905 -83.216,3.133 c -4.076,-26.488 -7.26,-48.111 -7.26,-49.396 0,-2.133 2.303,-2.388 15.109,-1.65 l 15.104,0.859 -0.52,-8.255 61.535,40.784 c -0.207,4.782 -0.459,9.628 -0.752,14.525"
           style="fill:#17e3ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path901" /><path
           d="m 536.664,201.877 -73.934,48.796 c -1.001,-12 -3.068,-25.541 -7.324,-53.054 -0.343,-2.221 -0.683,-4.416 -1.017,-6.581 l 83.216,-3.133 c -0.277,4.62 -0.591,9.283 -0.941,13.972"
           style="fill:#28f2ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path903" /><path
           d="m 415.787,192.492 c -0.584,18.065 -1.301,37.082 -2.014,52.665 L 395.667,193.25 Z"
           style="fill:#28f2ff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path905" /><path
           d="m 416.77,525.32 c -0.598,7.156 -1.11,22.223 -1.143,33.619 -0.012,4.811 -0.141,10.944 -0.344,17.308 L 389.9,518.49 Z"
           style="fill:#53bda3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path907" /><path
           d="m 400.396,672.053 c 5.766,6.156 7.229,11.996 5.047,20.145 -1.619,6.048 -1.468,8.397 0.893,14.594 3.377,8.847 2.766,10.867 -4.752,15.747 -5.955,3.873 -6.915,7.075 -4.215,14.164 2.16,5.679 -2.786,12.86 -13.091,13.707 -6.766,0.557 -11.693,4.577 -12.861,9.491 -6.525,6.27 -7.74,6.774 -16.553,6.874 -6.408,-1.314 -12.043,-0.251 -14.4,2.437 l -33.212,-4.706 c -1.599,-0.821 -3.104,-1.669 -4.451,-2.524 -4.202,-4.201 -9.707,-7.236 -12.23,-6.236 -1.077,0.144 -2.27,0.172 -3.478,-0.106 l 112.7,-84.192 c 0.202,0.192 0.402,0.391 0.603,0.605"
           style="fill:#4578a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path909" /><path
           d="m 295.176,651.479 c -0.69,3.779 -0.785,7.673 1.902,11.52 0.178,-2.647 0.669,-4.652 1.185,-4.652 0.948,0 4.832,-10.75 6.121,-16.284 -4.531,-1.991 -7.855,1.996 -9.208,9.416 m 71.676,-8.035 c 0.617,2.779 2.538,5.82 4.283,6.746 0.27,0.114 0.568,0.301 0.883,0.539 -0.642,1.568 -0.933,3.076 -0.749,4.16 0,0 1.49,2.363 1.504,1.316 0.017,-1.101 0.301,-2.536 0.802,-4.015 3.59,3.943 7.988,12.26 5.757,15.628 -0.092,0.343 1.241,0.47 3.149,0.511 -0.526,0.405 -1.097,0.771 -1.72,1.08 -1.739,0.86 1.142,1.215 1.142,1.215 0.937,-0.445 1.929,-1.235 2.872,-2.278 1.349,-0.002 2.797,-0.018 4.148,-0.018 5.684,0 8.373,0.739 10.87,3.12 l -112.7,84.192 c -2.413,-0.557 -4.885,-2.35 -6.608,-6.959 l 0.829,-65.284 c 3.627,-2.032 7.142,-3.442 9.887,-5.665 h -0.007 c 1.247,-1.901 4.618,-8.229 5.572,-11.987 -2.121,-3.686 -3.5,-6.513 -2.867,-14.058 0.799,-9.634 5.434,-11.826 10.848,-11.513 0.031,-0.243 0.049,-0.457 0.052,-0.638 l 61.798,-0.148 c -0.037,1.647 0.038,3.062 0.255,4.056"
           style="fill:#4b77a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path911" /><path
           d="m 382.481,668.329 c 5.768,-4.444 5.86,-14.177 3.885,-17.903 -5.544,-10.465 -10.83,-4.024 -12.791,1.764 -0.547,-0.6 -1.075,-1.097 -1.557,-1.461 2.386,-5.833 9.65,-12.489 15.623,-1.156 3.67,6.956 0.76,14.765 -2.866,18.773 -0.815,10e-4 -1.592,-0.002 -2.294,-0.017"
           style="fill:#4b77a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path913" /><path
           d="m 428.977,418.444 c -0.202,0.092 -0.397,0.181 -0.594,0.272 l -107.3,0.587 85.751,-118.904 c -4.168,11.658 -11.727,26.511 -26.228,53.926 -10.975,20.743 -19.62,38.047 -19.218,38.449 0.404,0.404 23.581,-14.31 51.512,-32.704 l 28.52,-18.775 16.277,62.904 c -8.207,4.581 -17.338,9.075 -28.72,14.245"
           style="fill:#50e2f2;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path915" /><path
           d="m 321.083,419.303 107.3,-0.587 c -30.871,14.042 -37.187,17.522 -44.977,24.7 -8.578,7.914 -20.675,25.963 -20.675,30.863 0,3.559 17.144,23.562 20.185,23.562 0.892,0 4.544,-2.49 8.102,-5.531 4.15,-3.555 16.132,-10.198 29.783,-17.016 L 389.9,518.49 Z"
           style="fill:#54d4b8;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path917" /><path
           d="m 415.283,576.247 c -0.283,8.811 -0.711,18.066 -1.174,24.874 -1.234,18.004 -1.988,21.857 -4.798,24.676 -4.7,4.699 -15.89,4.229 -27.664,-1.161 -5.136,-2.356 -10.136,-4.76 -10.86,-4.317 -1.914,1.182 -4.037,12.165 -4.19,19.069 l -61.798,0.148 c 0.001,-0.024 0.002,-0.049 0.002,-0.072 0,-1.074 3.545,-4.658 7.867,-7.961 4.324,-3.302 9.982,-8.23 12.58,-10.942 5.491,-5.76 6.336,-4.954 -14.15,-13.438 -0.065,-0.027 -0.127,-0.055 -0.192,-0.082 L 389.9,518.49 Z"
           style="fill:#52a0a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path919" /><path
           d="m 301.766,371.076 c 25.942,-34.388 33.606,-48.17 39.41,-70.868 1.488,-5.823 2.66,-13.555 3.128,-20.194 l 67.598,-3.464 c -0.81,8.643 -2.048,15.41 -5.068,23.849 l -85.751,118.904 z"
           style="fill:#4ac2fc;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path921" /><path
           d="m 323.232,87.411 h 2.311 c 9.995,0 11.478,1.316 13.049,11.58 3.317,21.748 18.554,19.232 21.696,-3.584 l 1.107,-8.076 4.841,0.085 46.967,9.327 v 3.316 c 0,14.371 -1.765,16.808 -16.225,22.318 l -10.256,3.921 14.559,0.483 c 11.119,0.365 14.557,0.992 15.483,2.914 l -21.097,63.555 z"
           style="fill:#11afff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path923" /><path
           d="m 344.527,274.324 c 0,-11.974 -0.854,-18.823 -8.98,-38.721 l 60.12,-42.353 18.106,51.907 c -0.476,10.438 -0.951,19.333 -1.382,25.367 -0.151,2.126 -0.309,4.121 -0.489,6.026 l -67.598,3.464 c 0.143,-2.025 0.223,-3.953 0.223,-5.69"
           style="fill:#35cdff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path925" /><path
           d="m 389.9,518.49 -77.325,-8.027 c 1.432,-5.778 2.002,-10.54 1.342,-12.629 -0.51,-1.597 -5.317,-5.987 -10.687,-9.753 -4.096,-2.873 -7.772,-5.829 -11.048,-8.872 l 28.901,-59.906 z"
           style="fill:#54b1a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path927" /><path
           d="m 310.906,607.041 c -14.655,-6.107 -22.369,-13.559 -26.719,-25.803 -1.171,-3.295 -2.478,-6.591 -3.898,-9.862 l -1.318,-56.849 c 13.582,18.556 22.585,31.443 24.454,30.289 0.758,-0.47 1.383,-3.39 1.383,-6.485 0,-3.101 1.497,-9.431 3.323,-14.07 1.856,-4.71 3.385,-9.531 4.444,-13.798 l 77.325,8.027 z"
           style="fill:#529da3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path929" /><path
           d="m 306.609,170.15 c -3.06,-7.246 -5.107,-12.659 -5.11,-13.707 0,-1.953 2.657,-4.093 7.827,-6.308 8.665,-3.713 10.726,-5.914 9.43,-10.076 -0.476,-1.53 -1.088,-14.004 -1.362,-27.717 l -0.483,-24.931 h 6.321 l 72.435,105.839 z"
           style="fill:#179fff;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path931" /><path
           d="m 335.547,235.603 c -4.768,-11.682 -12.043,-27.858 -23.121,-52.208 -2.133,-4.693 -4.128,-9.247 -5.817,-13.245 l 89.058,23.1 z"
           style="fill:#2aaafe;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path933" /><path
           d="m 240.897,516.529 c -1.174,-0.929 -2.458,-1.821 -3.829,-2.687 l 36.918,-6.092 c 1.723,2.33 3.385,4.592 4.985,6.777 l 1.318,56.849 c -9.612,-22.132 -24.532,-43.086 -39.392,-54.847"
           style="fill:#4f8ba3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path935" /><path
           d="m 279.683,746.114 c -0.658,-2.537 -6.445,-9.922 -9.163,-11.862 -8.666,-6.182 5.759,-24.669 5.605,-27.582 1.665,-2.725 -6.706,-13.867 -1.229,-18.714 2.089,-1.936 4.273,-3.356 6.418,-4.559 l -0.829,65.284 c -0.289,-0.775 -0.559,-1.626 -0.802,-2.567"
           style="fill:#455fa3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path937" /><path
           d="m 214.086,439.415 10.768,8.498 c 14.928,15.656 28.808,32.92 40.634,48.489 l -60.221,-47.76 c 5.354,-6.428 9.422,-10.479 8.819,-9.227"
           style="fill:#549ba3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path939" /><path
           d="m 292.182,479.209 c -12.442,-11.561 -19.019,-24.415 -20.072,-39.097 -0.366,-5.116 -0.278,-9.857 0.407,-14.56 l 48.566,-6.249 z"
           style="fill:#549ba3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path941" /><path
           d="m 272.517,425.552 c 2.172,-14.912 10.366,-29.454 29.236,-54.459 0.004,-0.006 0.009,-0.011 0.013,-0.017 l 19.317,48.227 z"
           style="fill:#519dbf;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path943" /><path
           d="m 191.427,448.583 c 0.589,0.283 1.16,0.574 1.71,0.875 l 7.976,4.342 c -2.477,3.179 -5.034,6.659 -7.41,10.216 z"
           style="fill:#4f91a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path945" /><path
           d="m 198.233,494.74 -4.135,-28.047 8.124,-12.29 -1.109,-0.603 c 1.429,-1.835 2.831,-3.57 4.154,-5.158 l 60.221,47.76 c 2.968,3.908 5.805,7.707 8.498,11.348 l -36.918,6.092 C 226.735,507.31 211.294,502.283 198.233,494.74"
           style="fill:#4f91a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path947" /><path
           d="m 189.7,470.416 -0.927,-2.379 c -2.332,-5.988 -4.121,-6.452 -11.199,-2.887 -3.434,1.733 -10.032,4.028 -14.66,5.109 -6.66,1.551 -9.623,1.289 -14.202,-1.249 -2.978,-1.651 -4.583,-2.993 -4.843,-3.916 l 2.173,-1.372 c 0.94,-0.067 2.174,-0.021 3.711,0.154 6.893,0.785 18.037,-1.96 19.631,-4.847 0.674,-1.215 0.759,-3.841 0.185,-5.84 -0.524,-1.825 -0.925,-2.729 -1.902,-3.12 l 9.455,-5.97 c 4.975,0.94 10.101,2.472 14.305,4.484 l 2.276,15.433 c -1.419,2.123 -2.771,4.273 -4.003,6.4"
           style="fill:#4a87a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path949" /><path
           d="m 194.098,466.693 4.135,28.047 c -0.055,-0.032 -0.11,-0.062 -0.166,-0.094 -3.99,-2.316 -15.691,-2.887 -14.335,-10.056 0.784,-4.153 3.03,-9.1 5.968,-14.174 l 0.718,1.843 z"
           style="fill:#4a87a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path951" /><path
           d="m 146.042,463.722 -2.173,1.372 c -0.219,-0.774 0.511,-1.252 2.173,-1.372"
           style="fill:#4680a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path953" /><path
           d="m 163.89,449.906 c -6.28,0.463 -7.958,-0.744 -5.985,-4.303 1.634,-2.944 10.178,-3.207 19.217,-1.504 l -9.455,5.97 c -0.776,-0.313 -1.917,-0.299 -3.777,-0.163"
           style="fill:#4680a3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           id="path955" /></g></g></g></svg>
`;
	const object = MetaSVG.fromText(text);
	manager.add(object, location).then((api) => {
		util.flyByObjectAPI(api);
	});
};
